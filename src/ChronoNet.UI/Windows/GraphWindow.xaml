<Window x:Class="ChronoNet.UI.Windows.GraphWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ChronoNet.UI.Windows"
        mc:Ignorable="d"
        xmlns:views="clr-namespace:ChronoNet.UI.Views"
        xmlns:vms="clr-namespace:ChronoNet.UI.ViewModels"
        xmlns:converters="clr-namespace:ChronoNet.UI.Converters"
        Title="GraphWindow" Height="1000" Width="1200">
    <Window.DataContext>
        <vms:WindowViewModel/>
    </Window.DataContext>
    
    <Window.Resources>
        <converters:BooleanToYesNoConverter x:Key="BooleanToYesNoConverter"/>
        <converters:NullToVisibilityConverter x:Key="NullToVisibilityConverter"/>
        <converters:DeviceNameConverter x:Key="DeviceNameConverter"/>
        <converters:DirectionToArrowConverter x:Key="DirectionToArrowConverter"/>
        <converters:PathConverter x:Key="PathConverter"/>
        <converters:SelectedToBackgroundConverter x:Key="SelectedToBackgroundConverter"/>
        <converters:CapabilityToStringConverter x:Key="CapabilityToStringConverter"/>
        <converters:BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
        <converters:GlobalCapabilitiesConverter x:Key="GlobalCapabilitiesConverter"/>
        <converters:GlobalCapabilitiesToStringConverter x:Key="GlobalCapabilitiesToStringConverter"/>
        <converters:LocalCapabilitiesConverter x:Key="LocalCapabilitiesConverter"/>
        <converters:NullToBooleanConverter x:Key="NullToBooleanConverter"/>
        <converters:PathWithIntervalConverter x:Key="PathWithIntervalConverter"/>
        <converters:InverterdBoolToVisibilityConverter x:Key="InverterdBoolToVisibilityConverter"/>
    </Window.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0"
                Background="White"
                BorderBrush="#E1E8ED"
                BorderThickness="0,0,0,1"
                Padding="10">
            <StackPanel Orientation="Horizontal"
                        VerticalAlignment="Center">
                <Button Content="Загрузить файл" 
                        Command="{Binding LoadCommand}" 
                        Padding="10,5" 
                        Margin="0,0,10,0"
                        Width="150"
                        Style="{StaticResource ModernIconButtonStyle}">
                    <Button.ContentTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal">
                                <Path Data="M19,9H15V3H9V9H5L12,16L19,9Z" 
                                          Fill="#2C3E50"
                                          Width="16"
                                          Height="16"
                                          Margin="0,0,6,0"/>
                                <TextBlock Text="Загрузить файл" 
                                               VerticalAlignment="Center"/>
                            </StackPanel>
                        </DataTemplate>
                    </Button.ContentTemplate>
                </Button>

                <Separator Width="1" Height="20" Background="#E0E0E0" Margin="5,0"/>

                <TextBlock Text="Интервал:" 
                       VerticalAlignment="Center" 
                       Margin="5,0,5,0"
                       Foreground="#2C3E50"/>

                <ComboBox ItemsSource="{Binding IntervalsViewModel.Graphs}"
                      SelectedItem="{Binding IntervalsViewModel.Selected}"
                      DisplayMemberPath="Interval"
                      Width="200"
                      Style="{StaticResource ModernComboBoxStyle}"/>
            </StackPanel>
        </Border>

        <Grid Grid.Row="1" Margin="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Grid Grid.Column="0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="200"/>
                </Grid.RowDefinitions>
                
                <Border Grid.Row="0" 
                        Style="{StaticResource CardBorderStyle}">
                    <views:GraphView DataContext="{Binding GraphViewModel}"/>
                </Border>

                <GridSplitter Grid.Row="1" 
                             Height="5" 
                             HorizontalAlignment="Stretch" 
                             Background="#E1E8ED"
                             ResizeDirection="Rows"/>
                <Border Grid.Row="2" 
                        Style="{StaticResource ListBoxContainerStyle}">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <TextBlock Text="Все устройства" 
                                   FontWeight="SemiBold" 
                                   Margin="0,0,0,10"
                                   Foreground="#2C3E50"/>
                        <ListBox Grid.Row="1"
                                 ItemsSource="{Binding AllDevices}"
                                 Background="Transparent">
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <Border Padding="8,6" 
                                            Margin="0,2" 
                                            CornerRadius="4"
                                            Style="{StaticResource SelectedToBackgroundConverterStyle}">
                                        <StackPanel>
                                            <TextBlock Text="{Binding Name}" 
                                                       FontSize="13"
                                                       Foreground="#2C3E50"/>
                                            <TextBlock Text="{Binding Capabilities, Converter={StaticResource GlobalCapabilitiesConverter}}"
                                                       FontSize="11"
                                                       Foreground="#7F8C8D"
                                                       Margin="0,2,0,0"/>
                                        </StackPanel>
                                    </Border>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>
                    </Grid>
                </Border>
            </Grid>

            <GridSplitter Grid.Column="1" 
                      Width="8" 
                      HorizontalAlignment="Center" 
                      VerticalAlignment="Stretch"
                      Background="Transparent">
                <GridSplitter.Template>
                    <ControlTemplate>
                        <Border Background="#CCD1D9" 
                                Width="2" 
                                HorizontalAlignment="Center"
                                Margin="0,20"/>
                    </ControlTemplate>
                </GridSplitter.Template>
            </GridSplitter>

            <TabControl Grid.Column="2" Margin="5"
                        Style="{StaticResource ModernTabControlStyle}">
                <TabControl.ItemContainerStyle>
                    <Style TargetType="TabItem" BasedOn="{StaticResource ModernTabItemStyle}"/>
                </TabControl.ItemContainerStyle>
                <TabItem Header="Интервалы">
                    <ScrollViewer Style="{StaticResource CustomScrollViewerStyle}">
                        <StackPanel Margin="15">
                            <Border Style="{StaticResource InnerCardStyle}">
                                <Grid Margin="10">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                                    <StackPanel Grid.Row="0"
                                                Orientation="Horizontal"
                                                Margin="0,0,0,12">
                                        <Path Data="M12,20 C8.134,20 5,16.866 5,13 C5,9.134 8.134,6 12,6 C15.866,6 19,9.134 19,13 C19,16.866 15.866,20 12,20 Z M12,4 C7.029,4 3,8.029 3,13 C3,17.971 7.029,22 12,22 C16.971,22 21,17.971 21,13 C21,8.029 16.971,4 12,4 Z M11,14 L11,8 L13,8 L13,14 L11,14 Z M11,16 L11,14 L13,14 L13,16 L11,16 Z" 
                                              Fill="#2980B9"
                                              Width="25"
                                              Height="25"
                                              Margin="0,0,8,0"/>
                                        <TextBlock Text="Интервалы стабильности"
                                                   FontWeight="SemiBold"
                                                   FontSize="14"
                                                   Foreground="#2C3E50"/>
                                    </StackPanel>

                                    <ListBox Grid.Row="1"
                                             ItemsSource="{Binding IntervalsViewModel.Graphs}"
                                             SelectedItem="{Binding IntervalsViewModel.Selected}"
                                             BorderThickness="0"
                                             Background="Transparent"
                                             ScrollViewer.VerticalScrollBarVisibility="Auto">
                                        <ListBox.ItemTemplate>
                                            <DataTemplate>
                                                <Border CornerRadius="6"
                                                        Padding="12"
                                                        Margin="0,4"
                                                        Background="#FFFFFF"
                                                        BorderBrush="#E1E8ED"
                                                        BorderThickness="1">
                                                    <StackPanel>
                                                        <TextBlock Text="{Binding Interval}"
                                                               FontWeight="SemiBold"
                                                               FontSize="13"
                                                               Foreground="#2C3E50"/>
                                                        <TextBlock Text="{Binding Interval.Duration, StringFormat=Длина: {0}}"
                                                               FontSize="11"
                                                               Foreground="#7F8C8D"
                                                               Margin="0,2,0,6"/>
                                                        <Border Background="#F0F7FF" 
                                                                CornerRadius="4" 
                                                                Padding="6,3" 
                                                                HorizontalAlignment="Left">
                                                            <StackPanel Orientation="Horizontal">
                                                                <Path Data="M3,18 L21,18 L21,16 L3,16 L3,18 Z M3,13 L21,13 L21,11 L3,11 L3,13 Z M3,6 L3,8 L21,8 L21,6 L3,6 Z" 
                                                                      Fill="#2980B9"
                                                                      Width="12"
                                                                      Height="12"
                                                                      Margin="0,0,4,0"/>
                                                                <TextBlock Text="{Binding EdgeCount, StringFormat={}{0} соединений}"
                                                                           FontSize="11"
                                                                           Foreground="#2980B9"
                                                                           FontWeight="Medium"/>
                                                            </StackPanel>
                                                        </Border>
                                                    </StackPanel>
                                                </Border>
                                            </DataTemplate>
                                        </ListBox.ItemTemplate>
                                    </ListBox>
                                </Grid>
                            </Border>

                            <Border Style="{StaticResource StatsPanelStyle}">
                                <StackPanel>
                                    <TextBlock Text="Выбранный интервал"
                                               FontSize="12"
                                               Foreground="#7F8C8D"
                                               Margin="0,0,0,4"/>
                                    <TextBlock Text="{Binding CurrentGraph.Interval}"
                                               FontWeight="SemiBold"
                                               FontSize="13"
                                               Foreground="#2C3E50"/>
                                    <StackPanel Orientation="Horizontal"
                                                Margin="0,6,0,0">
                                        <Path Data="M12,2 C6.486,2 2,6.486 2,12 C2,17.514 6.486,22 12,22 C17.514,22 22,17.514 22,12 C22,6.486 17.514,2 12,2 Z M12,20 C7.589,20 4,16.411 4,12 C4,7.589 7.589,4 12,4 C16.411,4 20,7.589 20,12 C20,16.411 16.411,20 12,20 Z M13,7 L11,7 L11,13 L17,13 L17,11 L13,11 L13,7 Z" 
                                              Fill="#7F8C8D"
                                              Width="25"
                                              Height="25"
                                              Margin="0,0,4,0"/>
                                        <TextBlock Text="{Binding CurrentGraph.Interval.Duration}"
                                               FontSize="12"
                                               Foreground="#7F8C8D"/>
                                    </StackPanel>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </ScrollViewer>
                </TabItem>
                <TabItem Header="Соединения">
                    <ScrollViewer Style="{StaticResource CustomScrollViewerStyle}">
                        <StackPanel Margin="15">
                            <Border Style="{StaticResource InnerCardStyle}">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    
                                    <StackPanel Grid.Row="0"
                                            Orientation="Horizontal"
                                            Margin="0,0,0,12">
                                        <Path Data="M19,3 L5,3 C3.89,3 3,3.9 3,5 L3,19 C3,20.1 3.89,21 5,21 L19,21 C20.1,21 21,20.1 21,19 L21,5 C21,3.9 20.1,3 19,3 Z M19,19 L5,19 L5,5 L19,5 L19,19 Z M7,12 L12,17 L17,12 L12,7 L7,12 Z" 
                                          Fill="#27AE60"
                                          Width="25"
                                          Height="25"
                                          Margin="0,0,8,0"/>
                                        <TextBlock Text="Управление соединениями"
                                               FontWeight="SemiBold"
                                               FontSize="14"
                                               Foreground="#2C3E50"/>
                                    </StackPanel>

                                    <Border Grid.Row="1">
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="*"/>
                                            </Grid.RowDefinitions>

                                            <TextBlock Grid.Row="0"
                                                   Text="Соединения текущего интервала"
                                                   FontWeight="Medium"
                                                   FontSize="12"
                                                   Foreground="#7F8C8D"
                                                   Margin="0,0,0,8"/>

                                            <ListBox x:Name="ConnectionsListBox"
                                                 Grid.Row="1"
                                                 ItemsSource="{Binding CurrentGraph.Edges}"
                                                 SelectedItem="{Binding SelectedEdge}"
                                                 ScrollViewer.VerticalScrollBarVisibility="Auto"
                                                 BorderThickness="0"
                                                 Background="Transparent"
                                                 MinHeight="300">
                                                <ListBox.ItemTemplate>
                                                    <DataTemplate>
                                                        <Border CornerRadius="6"
                                                                Padding="12"
                                                                Margin="0,4"
                                                                Background="#FFFFFF"
                                                                BorderBrush="#E1E8ED"
                                                                BorderThickness="1">
                                                            <Grid>
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="*"/>
                                                                    <ColumnDefinition Width="Auto"/>
                                                                </Grid.ColumnDefinitions>

                                                                <StackPanel Grid.Column="0" Margin="0,0,10,0">
                                                                    <StackPanel Orientation="Horizontal"
                                                                            Margin="0,0,0,4">
                                                                        <TextBlock Text="{Binding From, Mode=OneWay, Converter={StaticResource DeviceNameConverter}}"
                                                                             FontWeight="SemiBold"
                                                                             Foreground="#2C3E50"/>
                                                                        <TextBlock Text="{Binding Direction, Converter={StaticResource DirectionToArrowConverter}}"
                                                                               Margin="8,0"
                                                                               Foreground="#7F8C8D"
                                                                               FontSize="12"/>
                                                                        <TextBlock Text="{Binding To, Mode=OneWay, Converter={StaticResource DeviceNameConverter}}"
                                                                               FontWeight="SemiBold"
                                                                               Foreground="#2C3E50"/>
                                                                    </StackPanel>
                                                                </StackPanel>

                                                                <Button Grid.Column="1"
                                                                    Command="{Binding DataContext.CycleDirectionCommand,
                                                                            RelativeSource={RelativeSource AncestorType=ListBox}}"
                                                                    CommandParameter="{Binding}"
                                                                    VerticalAlignment="Center"
                                                                    Width="36"
                                                                    Style="{StaticResource DirectionButtonStyle}">
                                                                    <Button.Content>
                                                                        <TextBlock Text="{Binding Direction, Converter={StaticResource DirectionToArrowConverter}}"
                                                                               FontSize="16"/>
                                                                    </Button.Content>
                                                                </Button>
                                                            </Grid>
                                                        </Border>
                                                    </DataTemplate>
                                                </ListBox.ItemTemplate>
                                            </ListBox>
                                        </Grid>
                                    </Border>
                                </Grid>
                            </Border>
                            <Border Style="{StaticResource InnerCardStyle}">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Row="0"
                                               Text="Управление направленностью"
                                               FontWeight="SemiBold"
                                               Foreground="#2C3E50"
                                               Margin="0,0,0,12"/>
                                    <StackPanel Grid.Row="1">
                                        <Border Background="#FFFFFF"
                                                CornerRadius="6"
                                                BorderBrush="#D1E3F8"
                                                BorderThickness="1"
                                                Padding="12"
                                                Margin="0,0,0,12">
                                            <StackPanel>
                                                <TextBlock Text="Выбранное соединение"
                                                           FontSize="12"
                                                           Foreground="#7F8C8D"
                                                           Margin="0,0,0,6"/>
                                                <StackPanel Orientation="Horizontal"
                                                            HorizontalAlignment="Center">
                                                    <Ellipse Width="10"
                                                             Height="10"
                                                             VerticalAlignment="Center" 
                                                             Fill="#3498DB"
                                                             Margin="0,0,8,0"/>
                                                    <TextBlock Text="{Binding SelectedEdge.From, Converter={StaticResource DeviceNameConverter}}"
                                                               FontWeight="SemiBold"
                                                               Foreground="#2C3E50"/>
                                                    <TextBlock Text="{Binding SelectedEdge.Direction, Converter={StaticResource DirectionToArrowConverter}}"
                                                               Margin="20,0"
                                                               FontSize="18"
                                                               Foreground="#2980B9"/>
                                                    <Ellipse Width="10" 
                                                             Height="10"
                                                             Fill="#E74C3C"
                                                             VerticalAlignment="Center" 
                                                             Margin="8,0,8,0"/>
                                                    <TextBlock Text="{Binding SelectedEdge.To, Converter={StaticResource DeviceNameConverter}}"
                                                               FontWeight="SemiBold"
                                                               Foreground="#2C3E50"/>
                                                </StackPanel>
                                            </StackPanel>
                                        </Border>
                                        <StackPanel Orientation="Horizontal"
                                                    HorizontalAlignment="Center"
                                                    Margin="0,10,0,0">
                                            <Button Content="→ Направленное"
                                                    Command="{Binding MakeRightDirectionCommand}"
                                                    CommandParameter="{Binding ElementName=ConnectionsListBox, Path=SelectedItem}"
                                                    Margin="0,0,8,0"
                                                    Style="{StaticResource ModernIconButtonStyle}"
                                                    Height="30"
                                                    Width="125"
                                                    Padding="12,6"
                                                    Focusable="False">
                                            </Button>

                                            <Button Content="↔ Ненаправленное"
                                                    Command="{Binding MakeUndirectedCommand}"
                                                    CommandParameter="{Binding ElementName=ConnectionsListBox, Path=SelectedItem}"
                                                    Margin="0,0,8,0"
                                                    Style="{StaticResource ModernIconButtonStyle}"
                                                    Width="125"
                                                    Height="30"
                                                    Padding="12,6"
                                                    Focusable="False">
                                            </Button>

                                            <Button Content="← Направленное"
                                                    Command="{Binding MakeLeftCommand}"
                                                    CommandParameter="{Binding ElementName=ConnectionsListBox, Path=SelectedItem}"
                                                    Style="{StaticResource ModernIconButtonStyle}"
                                                    Width="125"
                                                    Height="30"
                                                    Padding="12,6"
                                                    Focusable="False">
                                            </Button>
                                        </StackPanel>

                                        <TextBlock Text="Изменения сохраняются до конца сессии"
                                                   FontSize="11"
                                                   Foreground="#27AE60"
                                                   FontStyle="Italic"
                                                   HorizontalAlignment="Center"
                                                   Margin="0,12,0,0"/>
                                    </StackPanel>
                                </Grid>
                            </Border>
                        </StackPanel>
                    </ScrollViewer>
                </TabItem>
                
                <TabItem Header="Устройства">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="250"/>
                            <ColumnDefinition Width="10"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <Border Grid.Column="0" Background="#F8F9FA" Padding="5">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <TextBlock Text="Устройства" 
                                           FontWeight="SemiBold" 
                                           Margin="0,0,0,10"
                                           Foreground="#2C3E50"/>

                                <ListBox Grid.Row="1"
                                         ItemsSource="{Binding AllDevices}"
                                         SelectedItem="{Binding DeviceViewModel.SelectedDevice}"
                                         Background="Transparent"
                                         BorderThickness="0">
                                    <ListBox.ItemTemplate>
                                        <DataTemplate>
                                            <Border Padding="8,4" Margin="0,2" CornerRadius="3"
                                                    Background="{Binding IsSelected, RelativeSource={RelativeSource AncestorType=ListBoxItem}, 
                                                            Converter={StaticResource SelectedToBackgroundConverter}}">
                                                <StackPanel>
                                                    <TextBlock Text="{Binding Name}" 
                                                               FontSize="12"
                                                               Foreground="#2C3E50"/>
                                                    <TextBlock Text="{Binding Capabilities, Converter={StaticResource GlobalCapabilitiesConverter}}"
                                                               FontSize="10"
                                                               Foreground="#7F8C8D"
                                                               Margin="0,2,0,0"/>
                                                </StackPanel>
                                            </Border>
                                        </DataTemplate>
                                    </ListBox.ItemTemplate>
                                </ListBox>
                            </Grid>
                        </Border>

                        <GridSplitter Grid.Column="1" 
                                      Width="3" 
                                      HorizontalAlignment="Stretch" 
                                      Background="#E0E0E0"/>

                        <ScrollViewer Grid.Column="2"
                                      Style="{StaticResource CustomScrollViewerStyle}"
                                      DataContext="{Binding DeviceViewModel}">
                            <StackPanel Margin="15">
                                <Border Margin="0,0,0,20" Visibility="{Binding IsDeviceSelected, Converter={StaticResource BooleanToVisibilityConverter}}">
                                    <StackPanel>
                                        <TextBlock Text="Настройка возможностей устройства"
                                                   FontSize="16"
                                                   FontWeight="SemiBold"
                                                   Foreground="#2C3E50"/>

                                        <TextBlock Text="{Binding SelectedDevice.Name}"
                                                   FontSize="14"
                                                   Foreground="#2980B9"
                                                   Margin="0,5,0,0"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,50,0,0" 
                                        Visibility="{Binding IsDeviceSelected, Converter={StaticResource InverterdBoolToVisibilityConverter}}">
                                    <StackPanel HorizontalAlignment="Center"
                                                VerticalAlignment="Center">
                                        <Path Data="M12,2 C6.48,2 2,6.48 2,12 C2,17.52 6.48,22 12,22 C17.52,22 22,17.52 22,12 C22,6.48 17.52,2 12,2 Z M12,20 C7.59,20 4,16.41 4,12 C4,7.59 7.59,4 12,4 C16.41,4 20,7.59 20,12 C20,16.41 16.41,20 12,20 Z M11,16 L13,16 L13,18 L11,18 L11,16 Z M11,6 L13,6 L13,14 L11,14 L11,6 Z"
                                              Fill="#BDC3C7"
                                              Width="48"
                                              Height="48"
                                              HorizontalAlignment="Center"
                                              Margin="0,0,0,10"/>
                                        <TextBlock Text="Выберите устройство из списка слева"
                                                   FontSize="13"
                                                   Foreground="#95A5A6"
                                                   HorizontalAlignment="Center"/>
                                    </StackPanel>
                                </Border>

                                <GroupBox Header="Глобальные возможности (применяются ко всем интервалам)"
                                          Margin="0,0,0,20"
                                          Visibility="{Binding IsDeviceSelected, Converter={StaticResource BooleanToVisibilityConverter}}"
                                          Style="{StaticResource ModernGroupBoxStyle}">
                                    <StackPanel Margin="5">
                                        <TextBlock Text="Эти возможности сохраняются для устройства на всех временных интервалах."
                                                   FontSize="11"
                                                   Foreground="#7F8C8D"
                                                   Margin="0,0,0,10"
                                                   TextWrapping="Wrap"/>

                                        <CheckBox IsChecked="{Binding GlobalCompute}"
                                                  Content="Вычисления (Compute)"
                                                  Margin="0,0,0,5"
                                                  Style="{StaticResource ModernCheckBoxStyle}"/>

                                        <CheckBox IsChecked="{Binding GlobalStorage}"
                                                  Content="Хранилище (Storage)"
                                                  Margin="0,0,0,5"
                                                  Style="{StaticResource ModernCheckBoxStyle}"/>

                                        <CheckBox IsChecked="{Binding GlobalTransfer}"
                                                  Content="Передача данных (Transfer)"
                                                  Margin="0,0,0,5"
                                                  Style="{StaticResource ModernCheckBoxStyle}"/>

                                        <Border Background="#F8F9FA" 
                                                CornerRadius="3" 
                                                Padding="8" 
                                                Margin="0,10,0,0">
                                            <StackPanel>
                                                <TextBlock Text="Текущие глобальные возможности:"
                                                           FontSize="11"
                                                           FontWeight="SemiBold"
                                                           Foreground="#2C3E50"
                                                           Margin="0,0,0,4"/>
                                                <TextBlock Text="{Binding SelectedDevice.Capabilities, Converter={StaticResource GlobalCapabilitiesToStringConverter}, 
                                                                UpdateSourceTrigger=PropertyChanged}"
                                                           FontSize="11"
                                                           Foreground="#27AE60"/>
                                            </StackPanel>
                                        </Border>
                                    </StackPanel>
                                </GroupBox>

                                <GroupBox Header="Локальные возможности (только для текущего интервала)"
                                          Visibility="{Binding IsDeviceSelected, Converter={StaticResource BooleanToVisibilityConverter}}"
                                          IsEnabled="{Binding CurrentGraph, Converter={StaticResource NullToBooleanConverter}}"
                                          Style="{StaticResource ModernGroupBoxStyle}">
                                    <StackPanel Margin="5">
                                        <TextBlock Text="{Binding CurrentGraph.Interval, StringFormat='Интервал: {0}'}"
                                                   FontSize="11"
                                                   FontWeight="SemiBold"
                                                   Foreground="#2C3E50"
                                                   Margin="0,0,0,10"/>

                                        <TextBlock Text="Эти возможности действуют только в выбранном временном интервале."
                                                   FontSize="11"
                                                   Foreground="#7F8C8D"
                                                   Margin="0,0,0,10"
                                                   TextWrapping="Wrap"/>

                                        <TextBlock Text="Основные возможности:"
                                                   FontSize="12"
                                                   FontWeight="Medium"
                                                   Margin="0,0,0,5"/>

                                        <CheckBox IsChecked="{Binding LocalCompute}"
                                                  Content="Вычисления"
                                                  Margin="10,0,0,5"
                                                  Style="{StaticResource ModernCheckBoxStyle}"/>

                                        <CheckBox IsChecked="{Binding LocalStorage}"
                                                  Content="Хранилище"
                                                  Margin="10,0,0,5"
                                                  Style="{StaticResource ModernCheckBoxStyle}"/>

                                        <CheckBox IsChecked="{Binding LocalTransfer}"
                                                  Content="Передача данных"
                                                  Margin="10,0,0,10"
                                                  Style="{StaticResource ModernCheckBoxStyle}"/>

                                        <TextBlock Text="Возможности связи:"
                                                   FontSize="12"
                                                   FontWeight="Medium"
                                                   Margin="0,10,0,5"/>

                                        <CheckBox IsChecked="{Binding LocalCanSend}"
                                                  Content="Может отправлять данные"
                                                  Margin="10,0,0,5"
                                                  Style="{StaticResource ModernCheckBoxStyle}"/>

                                        <CheckBox IsChecked="{Binding LocalCanReceive}"
                                                  Content="Может получать данные"
                                                  Margin="10,0,0,10"
                                                  Style="{StaticResource ModernCheckBoxStyle}"/>

                                        <Border Background="#F8F9FA" 
                                                CornerRadius="3" 
                                                Padding="8" 
                                                Margin="0,10,0,0">
                                            <StackPanel>
                                                <TextBlock Text="Текущие локальные возможности:"
                                                           FontSize="11"
                                                           FontWeight="SemiBold"
                                                           Foreground="#2C3E50"
                                                           Margin="0,0,0,4"/>
                                                <TextBlock>
                                                    <TextBlock.Text>
                                                        <MultiBinding Converter="{StaticResource LocalCapabilitiesConverter}">
                                                            <Binding Path="LocalCompute"/>
                                                            <Binding Path="LocalStorage"/>
                                                            <Binding Path="LocalTransfer"/>
                                                            <Binding Path="LocalCanSend"/>
                                                            <Binding Path="LocalCanReceive"/>
                                                        </MultiBinding>
                                                    </TextBlock.Text>
                                                </TextBlock>
                                            </StackPanel>
                                        </Border>
                                    </StackPanel>
                                </GroupBox>

                                <Border Background="#E8F4FD" 
                                        BorderBrush="#BBDEFB" 
                                        BorderThickness="1"
                                        CornerRadius="4"
                                        Padding="10"
                                        Margin="0,20,0,0"
                                        Visibility="{Binding IsDeviceSelected, Converter={StaticResource BooleanToVisibilityConverter}}">
                                    <StackPanel>
                                        <TextBlock Text="ℹ Информация"
                                                   FontWeight="SemiBold"
                                                   Foreground="#1976D2"
                                                   Margin="0,0,0,5"/>
                                        <TextBlock Text="Глобальные возможности применяются ко всем интервалам. Локальные возможности действуют только в выбранном интервале и имеют приоритет над глобальными для конкретных операций."
                                                   FontSize="11"
                                                   Foreground="#546E7A"
                                                   TextWrapping="Wrap"/>
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                        </ScrollViewer>
                    </Grid>
                </TabItem>

                <TabItem Header="Анализ">
                    <ScrollViewer Style="{StaticResource CustomScrollViewerStyle}">
                        <Grid Margin="15">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <Border Style="{StaticResource InnerCardStyle}"
                                    Grid.Row="0">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <StackPanel Grid.Column="0" Margin="0,0,20,0">
                                        <TextBlock Text="Вершин:" FontWeight="SemiBold" Foreground="#2C3E50" Margin="0,0,0,6"/>
                                        <TextBlock Text="Рёбер:" FontWeight="SemiBold" Foreground="#2C3E50" Margin="0,0,0,6"/>
                                        <TextBlock Text="Направленных:" FontWeight="SemiBold" Foreground="#2C3E50" Margin="0,0,0,6"/>
                                        <TextBlock Text="Ненаправленных:" FontWeight="SemiBold" Foreground="#2C3E50" Margin="0,0,0,6"/>
                                        <TextBlock Text="Связность:" FontWeight="SemiBold" Foreground="#2C3E50" Margin="0,0,0,6"/>
                                        <TextBlock Text="Циклы:" FontWeight="SemiBold" Foreground="#2C3E50" Margin="0,0,0,6"/>
                                        <TextBlock Text="Плотность:" FontWeight="SemiBold" Foreground="#2C3E50" Margin="0,0,0,6"/>
                                        <TextBlock Text="Диаметр:" FontWeight="SemiBold" Foreground="#2C3E50" Margin="0,0,0,6"/>
                                        <TextBlock Text="Компоненты связности:" FontWeight="SemiBold" Foreground="#2C3E50" Margin="0,0,0,6"/>
                                    </StackPanel>
                                    <StackPanel Grid.Column="1" Margin="0,0,0,0">
                                        <TextBlock Text="{Binding AnalysisResult.VertexCount}" Foreground="#2C3E50" Margin="0,0,0,6"/>
                                        <TextBlock Text="{Binding AnalysisResult.EdgeCount}" Foreground="#2C3E50" Margin="0,0,0,6"/>
                                        <TextBlock Text="{Binding AnalysisResult.DirectedEdgesCount}" Foreground="#2C3E50" Margin="0,0,0,6"/>
                                        <TextBlock Text="{Binding AnalysisResult.UndirectedEdgesCount}" Foreground="#2C3E50" Margin="0,0,0,6"/>
                                        <TextBlock Text="{Binding AnalysisResult.IsConnected, Converter={StaticResource BooleanToYesNoConverter}}" 
                                                   Margin="0,0,0,6"/>
                                        <TextBlock Text="{Binding AnalysisResult.HasCycles, Converter={StaticResource BooleanToYesNoConverter}}" 
                                                   Margin="0,0,0,6"/>
                                        <TextBlock Text="{Binding AnalysisResult.Density, StringFormat={}{0:F4}}" Foreground="#2C3E50" Margin="0,0,0,6"/>
                                        <TextBlock Text="{Binding AnalysisResult.Diameter}" Foreground="#2C3E50" Margin="0,0,0,6"/>
                                        <TextBlock Text="{Binding AnalysisResult.StronglyConnectedComponentsCount}" Foreground="#2C3E50"/>
                                    </StackPanel>
                                </Grid>
                            </Border>

                            <TabControl Grid.Row="1" Margin="0,15,0,0" Style="{StaticResource ModernTabControlStyle}">

                                <TabItem Header="Матрица смежности" Style="{StaticResource ModernTabItemStyle}">
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="*"/>
                                        </Grid.RowDefinitions>

                                        <Border Grid.Row="0" Background="#F8F9FA" Padding="0,5" BorderThickness="0,0,0,1" BorderBrush="#E0E0E0">
                                            <StackPanel Orientation="Horizontal">
                                                <Border Width="60" Height="40" 
                                                        Background="#3498DB"
                                                        BorderBrush="#B0BEC5" 
                                                        BorderThickness="1"
                                                        Margin="0,0,1,0">
                                                    <TextBlock Text="V\V" 
                                                               HorizontalAlignment="Center" 
                                                               VerticalAlignment="Center"
                                                               FontWeight="Bold"
                                                               Foreground="White"
                                                               FontSize="12"/>
                                                </Border>

                                                <ItemsControl ItemsSource="{Binding AnalysisResult.AdjacencyColumnHeaders}">
                                                    <ItemsControl.ItemsPanel>
                                                        <ItemsPanelTemplate>
                                                            <StackPanel Orientation="Horizontal"/>
                                                        </ItemsPanelTemplate>
                                                    </ItemsControl.ItemsPanel>
                                                    <ItemsControl.ItemTemplate>
                                                        <DataTemplate>
                                                            <Border Width="40" 
                                                                    Height="40"
                                                                    Background="#3498DB"
                                                                    BorderBrush="#B0BEC5" 
                                                                    BorderThickness="1,1,0,1"
                                                                    Margin="0,0,1,0">
                                                                <TextBlock Text="{Binding}" 
                                                                           HorizontalAlignment="Center" 
                                                                           VerticalAlignment="Center"
                                                                           FontWeight="Bold"
                                                                           Foreground="White"
                                                                           FontSize="12"
                                                                           TextTrimming="CharacterEllipsis"/>
                                                            </Border>
                                                        </DataTemplate>
                                                    </ItemsControl.ItemTemplate>
                                                </ItemsControl>
                                            </StackPanel>
                                        </Border>

                                        <ScrollViewer Grid.Row="1"
                                                      HorizontalScrollBarVisibility="Auto"
                                                      VerticalScrollBarVisibility="Auto"
                                                      Padding="0">
                                            <StackPanel Orientation="Vertical">
                                                <ItemsControl ItemsSource="{Binding AnalysisResult.AdjacencyMatrixWithHeaders}">
                                                    <ItemsControl.ItemTemplate>
                                                        <DataTemplate>
                                                            <StackPanel Orientation="Horizontal" Margin="0,1,0,0">
                                                                <Border Width="60" 
                                                                        Height="40"
                                                                        Background="#3498DB"
                                                                        BorderBrush="#B0BEC5" 
                                                                        BorderThickness="1,0,1,1"
                                                                        Margin="0,0,1,0">
                                                                    <TextBlock Text="{Binding RowHeader}" 
                                                                               HorizontalAlignment="Center" 
                                                                               VerticalAlignment="Center"
                                                                               FontWeight="Bold"
                                                                               Foreground="White"
                                                                               FontSize="12"
                                                                               TextTrimming="CharacterEllipsis"/>
                                                                </Border>

                                                                <ItemsControl ItemsSource="{Binding Cells}">
                                                                    <ItemsControl.ItemTemplate>
                                                                        <DataTemplate>
                                                                            <Border Width="40" 
                                                                                    Height="40"
                                                                                    Background="White"
                                                                                    BorderBrush="#E0E0E0" 
                                                                                    BorderThickness="0,0,1,1"
                                                                                    Margin="0,0,1,0">
                                                                                <TextBlock Text="{Binding Value}" 
                                                                                           HorizontalAlignment="Center" 
                                                                                           VerticalAlignment="Center"
                                                                                           FontSize="12"
                                                                                           Foreground="#2C3E50"
                                                                                           FontWeight="SemiBold"/>
                                                                            </Border>
                                                                        </DataTemplate>
                                                                    </ItemsControl.ItemTemplate>
                                                                    <ItemsControl.ItemsPanel>
                                                                        <ItemsPanelTemplate>
                                                                            <StackPanel Orientation="Horizontal"/>
                                                                        </ItemsPanelTemplate>
                                                                    </ItemsControl.ItemsPanel>
                                                                </ItemsControl>
                                                            </StackPanel>
                                                        </DataTemplate>
                                                    </ItemsControl.ItemTemplate>
                                                </ItemsControl>
                                            </StackPanel>
                                        </ScrollViewer>
                                    </Grid>
                                </TabItem>

                                <TabItem Header="Матрица инцидентности" Style="{StaticResource ModernTabItemStyle}">
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="*"/>
                                        </Grid.RowDefinitions>

                                        <Border Grid.Row="0" Background="#F8F9FA" Padding="0,5" BorderThickness="0,0,0,1" BorderBrush="#E0E0E0">
                                            <StackPanel Orientation="Horizontal">
                                                <Border Width="60" Height="40" 
                                                        Background="#2ECC71"
                                                        BorderBrush="#B0BEC5" 
                                                        BorderThickness="1"
                                                        Margin="0,0,1,0">
                                                    <TextBlock Text="V\E" 
                                                               HorizontalAlignment="Center" 
                                                               VerticalAlignment="Center"
                                                               FontWeight="Bold"
                                                               Foreground="White"
                                                               FontSize="12"/>
                                                </Border>

                                                <ItemsControl ItemsSource="{Binding AnalysisResult.IncidenceColumnHeaders}">
                                                    <ItemsControl.ItemsPanel>
                                                        <ItemsPanelTemplate>
                                                            <StackPanel Orientation="Horizontal"/>
                                                        </ItemsPanelTemplate>
                                                    </ItemsControl.ItemsPanel>
                                                    <ItemsControl.ItemTemplate>
                                                        <DataTemplate>
                                                            <Border Width="50" 
                                                                    Height="40"
                                                                    Background="#2ECC71"
                                                                    BorderBrush="#B0BEC5" 
                                                                    BorderThickness="1,1,0,1"
                                                                    Margin="0,0,1,0">
                                                                <TextBlock Text="{Binding}" 
                                                                           HorizontalAlignment="Center" 
                                                                           VerticalAlignment="Center"
                                                                           FontWeight="Bold"
                                                                           Foreground="White"
                                                                           FontSize="11"
                                                                           TextWrapping="Wrap"
                                                                           TextAlignment="Center"/>
                                                            </Border>
                                                        </DataTemplate>
                                                    </ItemsControl.ItemTemplate>
                                                </ItemsControl>
                                            </StackPanel>
                                        </Border>

                                        <ScrollViewer Grid.Row="1" 
                                                     HorizontalScrollBarVisibility="Auto" 
                                                     VerticalScrollBarVisibility="Auto"
                                                     Padding="0">
                                            <StackPanel Orientation="Vertical">
                                                <ItemsControl ItemsSource="{Binding AnalysisResult.IncidenceMatrixWithHeaders}">
                                                    <ItemsControl.ItemTemplate>
                                                        <DataTemplate>
                                                            <StackPanel Orientation="Horizontal" Margin="0,1,0,0">
                                                                <Border Width="60" 
                                                                        Height="40"
                                                                        Background="#2ECC71"
                                                                        BorderBrush="#B0BEC5" 
                                                                        BorderThickness="1,0,1,1"
                                                                        Margin="0,0,1,0">
                                                                    <TextBlock Text="{Binding RowHeader}" 
                                                                               HorizontalAlignment="Center" 
                                                                               VerticalAlignment="Center"
                                                                               FontWeight="Bold"
                                                                               Foreground="White"
                                                                               FontSize="12"
                                                                               TextTrimming="CharacterEllipsis"/>
                                                                </Border>

                                                                <ItemsControl ItemsSource="{Binding Cells}">
                                                                    <ItemsControl.ItemTemplate>
                                                                        <DataTemplate>
                                                                            <Border Width="50" 
                                                                                    Height="40"
                                                                                    Background="White"
                                                                                    BorderBrush="#E0E0E0" 
                                                                                    BorderThickness="0,0,1,1"
                                                                                    Margin="0,0,1,0">
                                                                                <TextBlock Text="{Binding Value}" 
                                                                                           HorizontalAlignment="Center" 
                                                                                           VerticalAlignment="Center"
                                                                                           FontSize="12"
                                                                                           Foreground="#2C3E50"
                                                                                           FontWeight="SemiBold"/>
                                                                            </Border>
                                                                        </DataTemplate>
                                                                    </ItemsControl.ItemTemplate>
                                                                    <ItemsControl.ItemsPanel>
                                                                        <ItemsPanelTemplate>
                                                                            <StackPanel Orientation="Horizontal"/>
                                                                        </ItemsPanelTemplate>
                                                                    </ItemsControl.ItemsPanel>
                                                                </ItemsControl>
                                                            </StackPanel>
                                                        </DataTemplate>
                                                    </ItemsControl.ItemTemplate>
                                                </ItemsControl>
                                            </StackPanel>
                                        </ScrollViewer>
                                    </Grid>
                                </TabItem>
                            </TabControl>

                            <TextBlock Grid.Row="1" 
                                       Text="Загрузите граф для анализа" 
                                       HorizontalAlignment="Center" 
                                       VerticalAlignment="Center"
                                       FontStyle="Italic"
                                       Foreground="#95A5A6"
                                       FontSize="14"
                                       Visibility="{Binding AnalysisResult, Converter={StaticResource NullToVisibilityConverter}}"/>
                        </Grid>
                    </ScrollViewer>
                </TabItem>

                <TabItem Header="Достижимость">
                    <ScrollViewer Style="{StaticResource CustomScrollViewerStyle}">
                        <StackPanel Margin="20">
                            <Border Style="{StaticResource InnerCardStyle}">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                        <Path Data="M12,2 C6.48,2 2,6.48 2,12 C2,17.52 6.48,22 12,22 C17.52,22 22,17.52 22,12 C22,6.48 17.52,2 12,2 Z M12,20 C7.59,20 4,16.41 4,12 C4,7.59 7.59,4 12,4 C16.41,4 20,7.59 20,12 C20,16.41 16.41,20 12,20 Z M16.59,7.58 L10,14.17 L7.41,11.59 L6,13 L10,17 L18,9 L16.59,7.58 Z"
                                              Fill="#9B59B6"
                                              Width="25"
                                              Height="25"
                                              Margin="0,0,8,0"/>
                                        <TextBlock Text="Анализ достижимости"
                                                   FontWeight="SemiBold"
                                                   FontSize="14"
                                                   Foreground="#2C3E50"/>
                                    </StackPanel>

                                    <TextBlock Text="Исходное устройство:"
                                               FontWeight="Medium"
                                               Foreground="#2C3E50"
                                               Margin="0,0,0,4"/>
                                    <TextBox Text="{Binding ReachabilityViewModel.SourceDeviceName, UpdateSourceTrigger=PropertyChanged}" 
                                             Style="{StaticResource ModernTextBoxStyle}"
                                             Margin="0,0,0,12"/>

                                    <TextBlock Text="Целевые устройства (через запятую):"
                                               FontWeight="Medium"
                                               Foreground="#2C3E50"
                                               Margin="0,0,0,4"/>
                                    <TextBox Text="{Binding ReachabilityViewModel.TargetDeviceNames, UpdateSourceTrigger=PropertyChanged}"
                                             Style="{StaticResource ModernTextBoxStyle}"
                                             Margin="0,0,0,12"/>

                                    <CheckBox IsChecked="{Binding ReachabilityViewModel.ConsiderCapabilities}"
                                              Content="Учитывать возможности"
                                              Style="{StaticResource ModernCheckBoxStyle}"
                                              Margin="0,0,0,12"/>

                                    <TextBlock Text="Размер данных (байт, опционально):"
                                               FontWeight="Medium"
                                               Foreground="#2C3E50"
                                               Margin="0,0,0,4"/>
                                    <TextBox Text="{Binding ReachabilityViewModel.DataSize, UpdateSourceTrigger=PropertyChanged}"
                                             Style="{StaticResource ModernTextBoxStyle}"
                                             Margin="0,0,0,12"/>

                                    <TextBlock Text="Интервал времени"
                                               FontWeight="Medium"
                                               Foreground="#2C3E50"
                                               Margin="0,0,0,4"/>
                                    <StackPanel Orientation="Horizontal">
                                        <TextBox Text="{Binding ReachabilityViewModel.Start, UpdateSourceTrigger=PropertyChanged}"
                                                 Width="120"
                                                 Style="{StaticResource ModernTextBoxStyle}"
                                                 Margin="0,0,12,0"/>
                                        <TextBlock Text="—"
                                                   VerticalAlignment="Center"
                                                   Margin="0,0,12,0"
                                                   Foreground="#7F8C8D"/>
                                        <TextBox Text="{Binding ReachabilityViewModel.End, UpdateSourceTrigger=PropertyChanged}"
                                                 Width="120"
                                                 Style="{StaticResource ModernTextBoxStyle}"/>
                                    </StackPanel>

                                    <Button Command="{Binding ReachabilityViewModel.CalculateReachabilityCommand}"
                                            Height="30"
                                            Content="Рассчитать достижимость"
                                            Padding="12,8"
                                            HorizontalAlignment="Left"
                                            Margin="0,20,0,0"
                                            Style="{StaticResource ModernIconButtonStyle}"/>
                                </StackPanel>
                            </Border>

                            <Border Background="#F5F5F5"
                                    CornerRadius="6"
                                    Padding="15"
                                    Margin="0,15,0,0"
                                    Visibility="{Binding ReachabilityViewModel.Result, Converter={StaticResource NullToVisibilityConverter}}">
                                <TextBlock Text="{Binding ReachabilityViewModel.Result.Message}"
                                           TextWrapping="Wrap"
                                           FontWeight="SemiBold"
                                           Foreground="#2C3E50"/>
                            </Border>

                            <ItemsControl ItemsSource="{Binding ReachabilityViewModel.Result.AllPaths}" 
                                          Margin="0,15,0,0">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Border Background="#FFFFFF"
                                                CornerRadius="4"
                                                BorderBrush="#E1E8ED"
                                                BorderThickness="1"
                                                Padding="10"
                                                Margin="0,0,0,6">
                                            <TextBlock>
                                                <TextBlock.Text>
                                                    <MultiBinding Converter="{StaticResource PathWithIntervalConverter}">
                                                        <Binding />
                                                        <Binding Path="DataContext.ReachabilityViewModel.DeviceMap" 
                                                                 RelativeSource="{RelativeSource AncestorType=Window}" />
                                                    </MultiBinding>
                                                </TextBlock.Text>
                                            </TextBlock>
                                        </Border>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                            <Border Background="#F5F5F5"
                                    CornerRadius="6"
                                    Padding="15"
                                    Margin="0,15,0,0"
                                    Visibility="{Binding ReachabilityViewModel.Result.ShortestPathLength, Converter={StaticResource NullToVisibilityConverter}}">
                                <StackPanel>
                                    <TextBlock Text="Кратчайший путь:"
                                               FontWeight="SemiBold"
                                               Foreground="#2C3E50"
                                               Margin="0,0,0,5"/>
                                    <TextBlock Text="{Binding ReachabilityViewModel.Result.ShortestPathLength}"
                                               FontWeight="Medium"
                                               Foreground="#9B59B6"/>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </ScrollViewer>
                </TabItem>
            </TabControl>
        </Grid>
    </Grid>
</Window>